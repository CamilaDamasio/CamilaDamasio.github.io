{"ast":null,"code":"import _defineProperty from\"/home/camila/Repositorios_GitHub/sd-012-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/camila/Repositorios_GitHub/sd-012-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/camila/Repositorios_GitHub/sd-012-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch}from'react-redux';import{useLocation}from'react-router';import ButtonSearch from'./ButtonSearch';import InputSearch from'./InputSearch';import RadiosButtonSearch from'./RadiosButtonSearch';import{getCocktail,getMeal}from'../../redux/actions';var INITIAL_STATE={search:'',typeSearch:'Nome'};function SearchBar(){var _useState=useState(INITIAL_STATE),_useState2=_slicedToArray(_useState,2),stateSearchBar=_useState2[0],setStateSearchBar=_useState2[1];var _useLocation=useLocation(),pathname=_useLocation.pathname;var dispatch=useDispatch();var search=stateSearchBar.search,typeSearch=stateSearchBar.typeSearch;useEffect(function(){if(typeSearch==='Primeira letra'&&search.length>1){global.alert('Sua busca deve conter somente 1 (um) caracter');}},[search.length,typeSearch]);var handleChange=function handleChange(_ref){var _ref$target=_ref.target,name=_ref$target.name,type=_ref$target.type,value=_ref$target.value,checked=_ref$target.checked;function newValue(){switch(type){case'checkbox':return checked;case'number':return+value;default:return value;}}setStateSearchBar(_objectSpread(_objectSpread({},stateSearchBar),{},_defineProperty({},name,newValue())));};var handleClick=function handleClick(){if(pathname.includes('bebidas')){dispatch(getCocktail(search,typeSearch));}else{dispatch(getMeal(search,typeSearch));}};return/*#__PURE__*/React.createElement(\"form\",{className:\"search-form\"},/*#__PURE__*/React.createElement(InputSearch,{handleChange:handleChange,value:search}),/*#__PURE__*/React.createElement(\"div\",{className:\"radios\"},/*#__PURE__*/React.createElement(RadiosButtonSearch,{handleChange:handleChange,value:typeSearch})),/*#__PURE__*/React.createElement(ButtonSearch,{handleClick:handleClick}));}export default SearchBar;","map":{"version":3,"sources":["/home/camila/Repositorios_GitHub/sd-012-project-recipes-app/src/components/SearchBar/index.js"],"names":["React","useState","useEffect","useDispatch","useLocation","ButtonSearch","InputSearch","RadiosButtonSearch","getCocktail","getMeal","INITIAL_STATE","search","typeSearch","SearchBar","stateSearchBar","setStateSearchBar","pathname","dispatch","length","global","alert","handleChange","target","name","type","value","checked","newValue","handleClick","includes"],"mappings":"uhBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,OAASC,WAAT,CAAsBC,OAAtB,KAAqC,qBAArC,CAEA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,MAAM,CAAE,EADY,CAEpBC,UAAU,CAAE,MAFQ,CAAtB,CAKA,QAASC,CAAAA,SAAT,EAAqB,eACyBZ,QAAQ,CAACS,aAAD,CADjC,wCACZI,cADY,eACIC,iBADJ,gCAEEX,WAAW,EAFb,CAEXY,QAFW,cAEXA,QAFW,CAGnB,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CAHmB,GAIXQ,CAAAA,MAJW,CAIYG,cAJZ,CAIXH,MAJW,CAIHC,UAJG,CAIYE,cAJZ,CAIHF,UAJG,CAMnBV,SAAS,CAAC,UAAM,CACd,GAAIU,UAAU,GAAK,gBAAf,EAAmCD,MAAM,CAACO,MAAP,CAAgB,CAAvD,CAA0D,CACxDC,MAAM,CAACC,KAAP,CAAa,+CAAb,EACD,CACF,CAJQ,CAIN,CAACT,MAAM,CAACO,MAAR,CAAgBN,UAAhB,CAJM,CAAT,CAMA,GAAMS,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAgD,sBAA7CC,MAA6C,CAAnCC,IAAmC,aAAnCA,IAAmC,CAA7BC,IAA6B,aAA7BA,IAA6B,CAAvBC,KAAuB,aAAvBA,KAAuB,CAAhBC,OAAgB,aAAhBA,OAAgB,CACnE,QAASC,CAAAA,QAAT,EAAoB,CAClB,OAAQH,IAAR,EACA,IAAK,UAAL,CAAiB,MAAOE,CAAAA,OAAP,CACjB,IAAK,QAAL,CAAe,MAAO,CAACD,KAAR,CACf,QAAS,MAAOA,CAAAA,KAAP,CAHT,CAKD,CACDV,iBAAiB,gCAAMD,cAAN,wBAAuBS,IAAvB,CAA8BI,QAAQ,EAAtC,GAAjB,CACD,CATD,CAWA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAIZ,QAAQ,CAACa,QAAT,CAAkB,SAAlB,CAAJ,CAAkC,CAChCZ,QAAQ,CAACT,WAAW,CAACG,MAAD,CAASC,UAAT,CAAZ,CAAR,CACD,CAFD,IAEO,CACLK,QAAQ,CAACR,OAAO,CAACE,MAAD,CAASC,UAAT,CAAR,CAAR,CACD,CACF,CAND,CAQA,mBACE,4BAAM,SAAS,CAAC,aAAhB,eACE,oBAAC,WAAD,EACE,YAAY,CAAGS,YADjB,CAEE,KAAK,CAAGV,MAFV,EADF,cAKE,2BAAK,SAAS,CAAC,QAAf,eACE,oBAAC,kBAAD,EACE,YAAY,CAAGU,YADjB,CAEE,KAAK,CAAGT,UAFV,EADF,CALF,cAWE,oBAAC,YAAD,EACE,WAAW,CAAGgB,WADhB,EAXF,CADF,CAkBD,CAED,cAAef,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router';\nimport ButtonSearch from './ButtonSearch';\nimport InputSearch from './InputSearch';\nimport RadiosButtonSearch from './RadiosButtonSearch';\nimport { getCocktail, getMeal } from '../../redux/actions';\n\nconst INITIAL_STATE = {\n  search: '',\n  typeSearch: 'Nome',\n};\n\nfunction SearchBar() {\n  const [stateSearchBar, setStateSearchBar] = useState(INITIAL_STATE);\n  const { pathname } = useLocation();\n  const dispatch = useDispatch();\n  const { search, typeSearch } = stateSearchBar;\n\n  useEffect(() => {\n    if (typeSearch === 'Primeira letra' && search.length > 1) {\n      global.alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n  }, [search.length, typeSearch]);\n\n  const handleChange = ({ target: { name, type, value, checked } }) => {\n    function newValue() {\n      switch (type) {\n      case 'checkbox': return checked;\n      case 'number': return +value;\n      default: return value;\n      }\n    }\n    setStateSearchBar({ ...stateSearchBar, [name]: newValue() });\n  };\n\n  const handleClick = () => {\n    if (pathname.includes('bebidas')) {\n      dispatch(getCocktail(search, typeSearch));\n    } else {\n      dispatch(getMeal(search, typeSearch));\n    }\n  };\n\n  return (\n    <form className=\"search-form\">\n      <InputSearch\n        handleChange={ handleChange }\n        value={ search }\n      />\n      <div className=\"radios\">\n        <RadiosButtonSearch\n          handleChange={ handleChange }\n          value={ typeSearch }\n        />\n      </div>\n      <ButtonSearch\n        handleClick={ handleClick }\n\n      />\n    </form>\n  );\n}\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}